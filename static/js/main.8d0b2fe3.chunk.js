(this.webpackJsonpvkvideo=this.webpackJsonpvkvideo||[]).push([[0],{111:function(e,t,n){e.exports=n(208)},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return me})),n.d(t,"history",(function(){return de}));var a,r=n(0),c=n.n(r),o=n(8),u=n.n(o),l=n(16),i=n(47),s=n(251),f=n(13),m=n(95),d=n(91),b=n(48),p=n(250),v=n(97),E=n(27),O=n(10),h=n(18),j=n(20),_=n.n(j),g=n(38),N=Object(h.a)("SET_AUTH_DATA",(function(e){return{payload:e}})),k=Object(h.a)("SET_USER_DATA",(function(e){return{payload:e}}));function y(){return function(){var e=Object(g.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window,n.VK.Auth.login((function(e){return e.session?t(N(e.session)):null}),16);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var w,A=Object(h.b)({expire:null,mid:null,secret:null,sid:null,sig:null,user:null},(a={},Object(E.a)(a,N.type,(function(e,t){return Object(O.a)(Object(O.a)({},e),t.payload)})),Object(E.a)(a,k.type,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{user:Object(O.a)(Object(O.a)({},e.user),t.payload)})})),a)),S=n(104),x=n(96),I=n.n(x),C=Object(h.a)("SET_VIDEO_DATA",(function(e){return{payload:e}})),T=Object(h.a)("SET_IS_LOADING",(function(e){return{payload:e}}));var L=Object(h.b)({list:[],isLoading:!1},(w={},Object(E.a)(w,C.type,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{list:Object(S.a)(t.payload)})})),Object(E.a)(w,T.type,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{isLoading:t.payload})})),w)),V=Object(v.a)(),D=Object(f.combineReducers)({form:p.a,router:Object(i.b)(V),auth:A,videos:L}),U=function(e,t){return D(e,t)};var R=n(65),q=n(210),K=n(243),F=n(244),J=n(239),M=function(e){var t=e.text,n=e.onClick,a=e.color,r=e.className;return c.a.createElement(J.a,{variant:"contained",color:a,onClick:n,className:r},t)},B=(n(196),function(e){var t=e.handleLogin,n=e.getUserInfo,a=e.user,o=e.token;return Object(r.useEffect)((function(){t()}),[]),Object(r.useEffect)((function(){o&&a&&n(a.id)}),[o]),c.a.createElement(c.a.Fragment,null,!o&&c.a.createElement(M,{text:"Login",color:"secondary",onClick:t}),o&&a&&c.a.createElement("img",{className:"user__img",src:a.photo_big,alt:"ava"}))}),G=(n(197),function(e){var t=e.startAuth,n=e.getUserInfo,a=e.token,r=e.user;return c.a.createElement(K.a,{position:"fixed"},c.a.createElement(F.a,null,c.a.createElement(q.a,{variant:"h6"},"Searching Videos"),c.a.createElement("div",{className:"header__user"},c.a.createElement(B,{getUserInfo:n,handleLogin:t,user:r,token:a}))))}),H=Object(R.c)(Object(l.c)((function(e){return{user:e.auth.user,token:e.auth.sid}}),(function(e){return{startAuth:function(){return e(y())},getUserInfo:function(t){return e(function(e){return function(){var t=Object(g.a)(_.a.mark((function t(n){var a,r,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=window,r=a.VK,c={user_ids:e,fields:"photo_big",name_case:"Nom",v:"5.126"},r.Api.call("users.get",c,(function(e){console.log(e.response[0]),e.response[0]&&n(k(e.response[0]))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(G)),W=n(66),z=n(245),P=n(246),Q=n(252),X=n(248),Y=n(249),Z=n(253),$=(n(198),function(e){var t=e.searchVideo,n=e.sortVideo,a=Object(r.useRef)(null),o=Object(r.useState)(!1),u=Object(W.a)(o,2),l=u[0],i=u[1],s=Object(r.useState)(!1),f=Object(W.a)(s,2),m=f[0],d=f[1],b=Object(r.useState)({q:"",hd:1,sort:0,offset:0,adult:1,longer:540,count:200,v:"5.103"}),p=Object(W.a)(b,2),v=p[0],E=p[1];return Object(r.useEffect)((function(){n(m)}),[m]),Object(r.useEffect)((function(){v.q.length>1&&t(v,l)}),[v.offset]),Object(r.useEffect)((function(){a&&a.current&&a.current.focus()}),[]),c.a.createElement("div",{className:"control"},c.a.createElement(z.a,{inputRef:a,placeholder:"searching request",onChange:function(e){var t=e.target.value;t&&E(Object(O.a)(Object(O.a)({},v),{},{q:t}))},onKeyUp:function(e){13===(e.keyCode||e.which)&&t(v,l)},className:"control__item"}),c.a.createElement(P.a,{className:"control__item",control:c.a.createElement(Q.a,{checked:l,onChange:function(e){return i(e.target.checked)}}),label:"Including 720p"}),c.a.createElement(P.a,{className:"control__item",control:c.a.createElement(Q.a,{checked:m,onChange:function(e){return d(e.target.checked)}}),label:"Reverse"}),c.a.createElement(X.a,{className:"control__item"},c.a.createElement(Y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v.sort,onChange:function(e){var t=e.target.value;3!==t?E(Object(O.a)(Object(O.a)({},v),{},{sort:t})):n(void 0)}},c.a.createElement(Z.a,{value:0},"\u043f\u043e \u0434\u0430\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u0438"),c.a.createElement(Z.a,{value:1},"\u043f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),c.a.createElement(Z.a,{value:2},"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"),c.a.createElement(Z.a,{value:3},"\u043f\u043e \u043a\u043e\u043b-\u0432\u0443 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"))),c.a.createElement(M,{className:"control__item _btn",text:"+200 more",color:"secondary",onClick:function(){return E(Object(O.a)(Object(O.a)({},v),{},{offset:v.offset+200}))}}))}),ee=Object(R.c)(Object(l.c)((function(){return{}}),(function(e){return{searchVideo:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(_.a.mark((function n(a){var r,c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=window,c=r.VK,a(T(!0)),c.Api.call("video.search",e,(function(e){var n=e.response.items,r=t?n:n.filter((function(e){return 1920===e.width}));console.log(r);var c=r.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{duration:"".concat(Math.trunc(parseInt(e.duration.toString(),10)/60),":").concat(parseInt(e.duration.toString(),10)%60),date:"number"===typeof e.date?I()(new Date(1e3*e.date).toString()).fromNow():e.date})}));a(C(c)),a(T(!1))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},sortVideo:function(t){return e(function(e){return function(){var t=Object(g.a)(_.a.mark((function t(n,a){var r,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a().videos.list,c=[],!e&&r.length&&(c=r.slice().sort((function(e,t){return t.views-e.views}))),e&&(c=r.slice().reverse()),n(C(c));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))($)),te=(n(199),n(247)),ne=n(103),ae=n.n(ne),re=function(){return c.a.createElement("div",{className:"totop",onClick:function(){return window.scrollTo(0,0)}},c.a.createElement(te.a,{edge:"start",color:"inherit","aria-label":"menu"},c.a.createElement(ae.a,null)))},ce=(n(201),function(e){var t=e.video,n=e.order;return c.a.createElement("li",{className:"card"},c.a.createElement("a",{className:"card__link",href:"https://vk.com/video".concat(t.owner_id,"_").concat(t.id),target:"_blank",rel:"noreferrer"},t.image&&c.a.createElement("img",{className:"card__img",src:t.image[3].url,alt:"bla"}),c.a.createElement("span",{className:"card__container"},c.a.createElement("p",{className:"card__text"},t.date),c.a.createElement("p",{className:"card__text"},t.duration),c.a.createElement("p",{className:"card__text"},t.views)),c.a.createElement("p",{className:"card__title"},t.title),c.a.createElement("p",{className:"card__order"},n)))}),oe=(n(202),function(e){var t=e.videos;return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"list"},t.map((function(e,t){return c.a.createElement(ce,{video:e,key:"".concat(e.id,"_").concat(e.owner_id),order:t+1})}))),!!t.length&&c.a.createElement(re,null))}),ue=Object(R.c)(Object(l.c)((function(e){return{videos:e.videos.list}}),(function(e){return{startAuth:function(){return e(y())}}}))(oe)),le=(n(203),n(204),function(){return c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"lds-facebook"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),ie=function(e){var t=e.token,n=e.isLoading;return c.a.createElement("main",{className:"search"},c.a.createElement(H,null),c.a.createElement("div",{className:"search__content"},t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,null),c.a.createElement("div",{className:"search__list"},!n&&c.a.createElement(ue,null),n&&c.a.createElement(le,null))),!t&&c.a.createElement(q.a,null,"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435")))},se=Object(R.c)(Object(l.c)((function(e){return{token:e.auth.sid,isLoading:e.videos.isLoading}}),(function(e){return{startAuth:function(){return e(y())}}}))(ie)),fe=(n(205),n(206),n(207),function(){var e=[b.a,Object(d.a)(V)],t=f.applyMiddleware.apply(void 0,e);return{store:Object(f.createStore)(U,{},Object(m.composeWithDevTools)(t)),history:V}}()),me=fe.store,de=fe.history,be=function(){return c.a.createElement(l.a,{store:me},c.a.createElement(i.a,{history:de},c.a.createElement(s.a,null,c.a.createElement("section",{className:"app"},c.a.createElement(se,null)))))};u.a.render(c.a.createElement(be,null),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.8d0b2fe3.chunk.js.map