(this.webpackJsonpvio=this.webpackJsonpvio||[]).push([[0],{158:function(e,t,i){"use strict";i.r(t);var n=i(66),a=i(0),o=i.n(a),r=i(30),c=i.n(r),s=i(28),d=i(15),l=i(86),p=i(92),u=i(36),h=i(46),x=i(22),b={id:"",domain:null,href:null,first_name:null,last_name:null,nickname:null,photo_big:""},m={session:{mid:null,sid:null,sig:null,secret:null,expire:null,user:b},user:b},f=Object(h.b)({name:"User",initialState:m,reducers:{setAuthData:function(e,t){var i=t.payload.session;return Object(x.a)(Object(x.a)({},e),{},{session:i})},setUserData:function(e,t){var i=t.payload;return Object(x.a)(Object(x.a)({},e),{},{user:i})}}}),j=f.reducer,g=f.actions,w=j,v=i(18),O=i(91),y=i.n(O),_={init:function(){window.VK.init({apiId:7475970})},login:function(e,t){window.VK.Auth.login(e,t)},getUser:function(e,t){var i={user_ids:e,fields:"photo_big",name_case:"Nom",v:"5.126"};window.VK.Api.call("users.get",i,t)},searchVideos:function(e,t){window.VK.Api.call("video.search",e,t)}},k=function(e){return function(t){console.log({t:e.offset}),t(S.setLoading(!0)),_.searchVideos(e,(function(i){return C(i,e,t)}))}},C=function(e,t,i){var n=e.response.items.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{duration:"".concat(Math.trunc(parseInt(e.duration.toString(),10)/60),":").concat(parseInt(e.duration.toString(),10)%60),date:"number"===typeof e.date?y()(new Date(1e3*e.date).toString()).fromNow():e.date})})).filter((function(e){return"0:0"!==e.duration}));if(i(S.setVideos(n)),i(S.setLoading(!1)),t.offset<1e3){var a=Object(x.a)(Object(x.a)({},t),{},{offset:t.offset+200});i(k(a))}},I=Object(h.b)({name:"Videos",initialState:{isLoading:!1,videos:[]},reducers:{setLoading:function(e,t){var i=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isLoading:i})},setVideos:function(e,t){var i=t.payload;return Object(x.a)(Object(x.a)({},e),{},{videos:[].concat(Object(v.a)(e.videos),Object(v.a)(i))})}}}),N=I.reducer,S=I.actions,A=N,D=Object(p.a)(),F=Object(u.b)({router:Object(n.b)(D),user:w,videos:A}),z=Object(h.a)({reducer:F,middleware:function(){return Object(h.c)().concat(Object(l.a)(D))}}),L=Object(d.b)(["html,body{height:100%;margin:0;padding:0;}#root{height:100%;width:100%;display:flex;flex-direction:column;}*,*:after,*:before{box-sizing:border-box;}*:focus{outline:none;}a{color:#2864dd;text-decoration:none;}p,li{margin:0;padding:0;}::-webkit-scrollbar-track{background:rgba(0,0,0,0);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.15);border-radius:5px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.3);}*{font-family:sans-serif;}"]),V=i(65),P=i(9),E=d.c.a.withConfig({displayName:"styles__Link",componentId:"sc-tj1z2o-0"})(["margin:0 25px 25px 0;box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);transition:transform 250ms linear;&:hover{transform:scale(1.1);}"]),R=d.c.div.withConfig({displayName:"styles__Text",componentId:"sc-tj1z2o-1"})(["padding:4px 8px;background-color:rgba(0,0,0,0.2);span{color:white;}"]),W=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-tj1z2o-2"})(["display:flex;flex-direction:column;justify-content:space-between;width:450px;height:300px;border-radius:8px;overflow:hidden;background-image:url(",");background-size:100% 100%;&:hover{","{display:none;}}@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){width:421px;height:300px;}"],(function(e){return e.url}),R),U=d.c.div.withConfig({displayName:"styles__Circle",componentId:"sc-tj1z2o-3"})(["margin-right:8px;width:10px;height:10px;border-radius:50%;background:",";"],(function(e){var t=e.theme,i=e.color;return t.colors[i]})),B=d.c.div.withConfig({displayName:"styles__Description",componentId:"sc-tj1z2o-4"})(["padding:4px 8px;display:flex;align-items:center;justify-content:space-between;background-color:",";span{color:white;}"],(function(e){return e.theme.colors.purple})),K=d.c.div.withConfig({displayName:"styles__Container",componentId:"sc-tj1z2o-5"})(["display:flex;align-items:center;"]),M=i(2),T=function(e){var t,i=e.image,n=e.date,a=e.title,o=e.duration,r=e.views,c=e.owner_id,s=e.id,d=e.onClick;return Object(M.jsx)(E,{href:"https://vk.com/video".concat(c,"_").concat(s),target:"_blank",rel:"noreferrer",children:Object(M.jsxs)(W,{url:null===(t=i[3])||void 0===t?void 0:t.url,children:[Object(M.jsxs)(B,{children:[Object(M.jsxs)(K,{children:[Object(M.jsx)(U,{color:"orange"}),Object(M.jsx)("span",{children:n})]}),Object(M.jsxs)("span",{onClick:function(e){return d(e,"time")},children:["time:\xa0",o]}),Object(M.jsxs)("span",{onClick:function(e){return d(e,"views")},children:[r,"\xa0views"]})]}),Object(M.jsx)(R,{children:Object(M.jsx)("span",{children:a})})]})})},q=i(101),J=function(){return Object(M.jsx)(q.RingLoader,{size:80,color:"white"})},H=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-e9ja1l-0"})(["padding:12px 12px 12px 240px;margin-left:25px;margin-right:-25px;width:100%;display:flex;justify-content:center;flex-wrap:wrap;@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){margin:0 -25px 0 10px;padding:170px 10px 10px;}"]),G=d.c.div.withConfig({displayName:"styles__LoaderWrapper",componentId:"sc-e9ja1l-1"})(["padding-top:150px;"]),Q=function(e){var t=e.is2160p,i=e.isReverse,n=e.is1080p,o=Object(a.useState)(0),r=Object(P.a)(o,2),c=r[0],d=r[1],l=Object(a.useState)(0),p=Object(P.a)(l,2),u=p[0],h=p[1],b=Object(s.e)((function(e){return e.videos})),m=b.videos,f=b.isLoading,j=Object(a.useState)(m),g=Object(P.a)(j,2),w=g[0],v=g[1],O=function(e,t){switch(e.preventDefault(),t){case"time":d(c>1?0:1===c?2:1);break;case"views":h(u>1?0:1===u?2:1)}};Object(a.useEffect)((function(){switch(u){case 0:v(m);break;case 1:var e=w.slice().sort((function(e,t){return e.views-t.views}));v(e);break;case 2:var t=w.slice().sort((function(e,t){return e.views-t.views})).reverse();v(t)}}),[u]),Object(a.useEffect)((function(){v(m)}),[m]),Object(a.useEffect)((function(){v(i?w.reverse():w)}),[i]),Object(a.useEffect)((function(){if(n){var e=w.filter((function(e){return e.width>=1920}));w.forEach((function(e){var t=e.width,i=e.height;t>1920&&console.log({width:t,height:i})})),v(e)}else v(m)}),[n]),Object(a.useEffect)((function(){if(t){var e=w.filter((function(e){return e.width>=2160}));v(e)}else v(m)}),[t]),console.log({videosArr:w});return Object(M.jsxs)(H,{children:[f&&Object(M.jsx)(G,{children:Object(M.jsx)(J,{})}),!f&&(null===w||void 0===w?void 0:w.map((function(e){return Object(M.jsx)(T,Object(x.a)(Object(x.a)({},e),{},{onClick:O}),e.id+Math.random())})))]})},X=i(222),Y=i(221),Z=Object(d.c)(Y.a).withConfig({displayName:"styles__CheckboxUI",componentId:"sc-6ag0u7-0"})(["position:relative;color:"," !important;"],(function(e){return e.theme.colors.blue})),$=function(e){var t=e.value,i=e.name,n=e.id,a=e.label,o=e.onChange;return Object(M.jsx)(X.a,{style:{color:"white",marginBottom:"12px"},control:Object(M.jsx)(Z,{defaultChecked:t,onChange:o,id:n,value:t,name:i}),label:a})},ee=i(218),te=function(e){return e.theme.colors.blue},ie=Object(d.c)(ee.a).withConfig({displayName:"styles__InputUI",componentId:"sc-uyoxgk-0"})(["position:relative;width:100%;max-width:180px;label[data-shrink='false']{top:-8px;}label{color:",";}div{margin-bottom:20px;background-color:transparent;height:40px;border-radius:8px;color:white;fieldset{border-color:"," !important;}input{padding:4px 12px;border-radius:8px;outline:none;&:focus,&:active{border:none;}}@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){margin-right:15px;}}"],te,te),ne=function(e){return Object(M.jsx)(ie,Object(x.a)({autoComplete:"off"},e))},ae=i(223),oe=i(225),re=i(219),ce=i(224),se=function(e){return e.theme.colors.blue},de=Object(d.c)(re.a).withConfig({displayName:"styles__SelectUI",componentId:"sc-ljwsjl-0"})(["position:relative;"]),le=Object(d.c)(ce.a).withConfig({displayName:"styles__FormControl",componentId:"sc-ljwsjl-1"})(["max-width:180px;label,svg{color:",";}div{color:white;border-radius:8px;&:first-child{padding:8.5px 14px;}@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){margin-right:15px;}}fieldset{border-color:"," !important;}"],se,se),pe=function(e){var t=e.labelId,i=e.id,n=e.name,a=e.value,o=e.label,r=e.onChange,c=e.options;return Object(M.jsxs)(le,{style:{color:"white"},fullWidth:!0,children:[Object(M.jsx)(oe.a,{id:t,children:o}),Object(M.jsx)(de,{labelId:t,id:i,name:n,value:a,label:o,onChange:r,children:null===c||void 0===c?void 0:c.map((function(e){var t=e.label,i=e.value;return Object(M.jsx)(ae.a,{value:i,children:t},i)}))})]})},ue=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1bkqnf5-0"})(["border-radius:8px;background-color:",";box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);"],(function(e){return e.theme.colors.darkPurple})),he=function(e){var t=e.children;return Object(M.jsx)(ue,{children:t})},xe=i(227),be=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-10dy3k4-0"})(["position:fixed;padding:12px;width:230px;@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){width:calc(100% - 12px);}"]),me=d.c.form.withConfig({displayName:"styles__Form",componentId:"sc-10dy3k4-1"})(["padding:22px;width:100%;@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){padding:12px 12px 0;display:flex;flex-wrap:wrap;}"]),fe=Object(d.c)(xe.a).withConfig({displayName:"styles__Button",componentId:"sc-10dy3k4-2"})(["width:100%;max-width:180px;height:40px;"]),je=d.c.div.withConfig({displayName:"styles__Filters",componentId:"sc-10dy3k4-3"})(["padding:22px;border-top:1px solid ",";display:flex;flex-direction:column;@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){flex-direction:row;padding:12px 12px 0;}"],(function(e){return e.theme.colors.blue})),ge={search:"",sorting:0,isAdult:!0,count:200,offset:0,longer:12,shorter:0},we=function(e){var t=e.is1080p,i=e.onFilterChange,n=e.is2160p,a=e.isReverse,o=Object(s.d)(),r={initialValues:ge,onSubmit:function(e){o(k(function(e){var t=e.isAdult,i=e.count,n=e.offset,a=e.longer,o=e.shorter;return{adult:t?1:0,count:i,hd:0,shorter:0===o?"":60*o,longer:0===a?"":60*a,offset:n,q:e.search,sort:e.sorting,v:"5.131"}}(e)))}},c=Object(V.a)(r),d=c.values,l=d.search,p=d.isAdult,u=d.sorting,h=d.shorter,x=d.longer,b=c.handleChange,m=c.handleSubmit;return Object(M.jsx)(be,{children:Object(M.jsxs)(he,{children:[Object(M.jsxs)(me,{onSubmit:m,children:[Object(M.jsx)(ne,{autoFocus:!0,label:"\u0418\u0449\u0435\u043c",id:"search",name:"search",value:l,onChange:b}),Object(M.jsx)(ne,{label:"\u041e\u0442",id:"longer",name:"longer",value:x,onChange:b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(M.jsx)(ne,{label:"\u0414\u043e",id:"shorter",name:"shorter",value:h,onChange:b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(M.jsx)(pe,{labelId:"demo-simple-select-label",id:"sorting",name:"sorting",value:u,label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onChange:b,options:[{label:"\u043f\u043e \u0434\u0430\u0442\u0435",value:0},{label:"\u043f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",value:1},{label:"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438",value:2}]}),Object(M.jsx)($,{onChange:b,id:"isAdult",value:p,name:"isAdult",label:"\u0412\u0438\u0434\u0435\u043e \u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445"}),Object(M.jsx)(fe,{variant:"outlined",type:"submit",children:"Search"})]}),Object(M.jsxs)(je,{children:[Object(M.jsx)($,{onChange:i,id:"is1080p",value:t,name:"is1080p",label:"\u0412\u0438\u0434\u0435\u043e Full HD"}),Object(M.jsx)($,{onChange:i,id:"is2160p",value:n,name:"is2160p",label:"\u0412\u0438\u0434\u0435\u043e 4k"}),Object(M.jsx)($,{onChange:i,id:"isReverse",value:a,name:"isReverse",label:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a"})]})]})})},ve={is1080p:!1,is2160p:!1,isReverse:!1},Oe=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1xtjlie-0"})(["padding-top:70px;position:relative;display:flex;flex-direction:column;@media ","{flex-direction:row;}@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){flex-direction:column;}"],(function(e){return e.theme.media.tablet})),ye=function(){var e={initialValues:ve,onSubmit:function(e){console.log("")}},t=Object(V.a)(e),i=t.values,n=i.is1080p,a=i.isReverse,o=i.is2160p,r=t.handleChange;return Object(M.jsxs)(Oe,{children:[Object(M.jsx)(we,{is1080p:n,isReverse:a,is2160p:o,onFilterChange:r}),Object(M.jsx)(Q,{is1080p:n,isReverse:a,is2160p:o})]})},_e=function(e){return e.theme.media.tablet},ke=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-97963u-0"})(["position:fixed;width:100%;z-index:3;background-color:",";@media ","{padding:12px 12px 20px;}@media only screen and (min-width:1024px) and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){width:calc(100% - 12px);}"],(function(e){return e.theme.colors.darkenPurple}),_e),Ce=d.c.div.withConfig({displayName:"styles__Container",componentId:"sc-97963u-1"})(["padding:12px;display:flex;align-items:center;height:50px;background-color:",";box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);@media ","{border-radius:8px;}"],(function(e){return e.theme.colors.darkPurple}),_e),Ie=d.c.img.withConfig({displayName:"styles__Avatar",componentId:"sc-97963u-2"})(["margin-right:16px;width:25px;height:25px;border-radius:38%;"]),Ne=d.c.p.withConfig({displayName:"styles__Name",componentId:"sc-97963u-3"})(["margin:0;padding:0;font-size:18px;color:white;"]),Se=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.user})),i=t.session.user.id,n=t.user,o=n.photo_big,r=n.first_name,c=n.last_name,d=function(t){var i=Object(P.a)(t.response,1)[0];i&&e(g.setUserData(i))};return Object(a.useEffect)((function(){_.getUser(i,d)}),[i]),Object(M.jsx)(ke,{children:Object(M.jsxs)(Ce,{children:[Object(M.jsx)(Ie,{src:o}),Object(M.jsxs)(Ne,{children:[r," ",c]})]})})},Ae=d.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-ylo4hs-0"})(["position:relative;width:100%;background:",";flex:1;"],(function(e){return e.theme.colors.darkenPurple})),De=function(e){return console.log(e),Object(M.jsxs)(Ae,{children:[Object(M.jsx)(Se,{}),Object(M.jsx)(ye,{})]})};i(157);var Fe=function(){var e=Object(s.d)(),t=function(t){e(g.setAuthData(t))};return Object(a.useEffect)((function(){_.init(),_.login(t,16)}),[]),Object(M.jsx)(De,{})},ze=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,229)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;i(e),n(e),a(e),o(e),r(e)}))};c.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(s.a,{store:z,children:Object(M.jsx)(n.a,{history:D,children:Object(M.jsxs)(d.a,{theme:{colors:{white:"#ffffff",orange:"#F55064",green:"#42CD7D",blue:"#1976d2",lightenPurple:"#ADA2DD",lightPurple:"#6D73A6",purple:"#7032FF",darkPurple:"#383f75",darkenPurple:"#202442"},media:{onlyMobile:"(max-width: 767px)",onlyTablet:"(min-width: 768px) and (max-width: 1023px)",tablet:"(min-width: 768px)",desktop:"(min-width: 1280px)"}},children:[Object(M.jsx)(L,{}),Object(M.jsx)(Fe,{})]})})})}),document.getElementById("root")),ze()}},[[158,1,2]]]);
//# sourceMappingURL=main.397f0c78.chunk.js.map