(this.webpackJsonpvio=this.webpackJsonpvio||[]).push([[0],{167:function(e,t,n){"use strict";n.r(t);var i=n(71),o=n(0),r=n.n(o),a=n(29),s=n.n(a),c=n(30),l=n(16),d=n(90),u=n(98),p=n(36),b=n(48),f=n(22),h={id:"",domain:null,href:null,first_name:null,last_name:null,nickname:null,photo_big:""},m={session:{mid:null,sid:null,sig:null,secret:null,expire:null,user:h},user:h},j=Object(b.b)({name:"User",initialState:m,reducers:{setAuthData:function(e,t){var n=t.payload.session;return Object(f.a)(Object(f.a)({},e),{},{session:n})},setUserData:function(e,t){var n=t.payload;return Object(f.a)(Object(f.a)({},e),{},{user:n})}}}),g=j.reducer,x=j.actions,v=g,O=n(17),w=n(97),y=n.n(w),_={init:function(){window.VK.init({apiId:7475970})},login:function(e,t){window.VK.Auth.login(e,t)},getUser:function(e,t){var n={user_ids:e,fields:"photo_big",name_case:"Nom",v:"5.126"};window.VK.Api.call("users.get",n,t)},searchVideos:function(e,t){window.VK.Api.call("video.search",e,t)}},C=function(e){return function(t){t(S.setLoading(!0)),_.searchVideos(e,(function(n){return k(n,e,t)}))}},k=function(e,t,n){var i=e.response.items.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{duration:"".concat(Math.trunc(parseInt(e.duration.toString(),10)/60),":").concat(parseInt(e.duration.toString(),10)%60),date:"number"===typeof e.date?y()(new Date(1e3*e.date).toString()).fromNow():e.date})})).filter((function(e){return"0:0"!==e.duration}));if(n(S.setVideos(i)),n(S.setLoading(!1)),t.offset<1e3){var o=Object(f.a)(Object(f.a)({},t),{},{offset:t.offset+200});n(C(o))}},I=Object(b.b)({name:"Videos",initialState:{isLoading:!1,videos:[]},reducers:{setLoading:function(e,t){var n=t.payload;return Object(f.a)(Object(f.a)({},e),{},{isLoading:n})},setVideos:function(e,t){var n=t.payload;return Object(f.a)(Object(f.a)({},e),{},{videos:[].concat(Object(O.a)(e.videos),Object(O.a)(n))})}}}),N=I.reducer,S=I.actions,D=N,F=Object(u.a)(),A=Object(p.b)({router:Object(i.b)(F),user:v,videos:D}),L=Object(b.a)({reducer:A,middleware:function(){return Object(b.c)().concat(Object(d.a)(F))}}),z=Object(l.b)(["html,body{height:100%;margin:0;padding:0;}#root{height:100%;width:100%;display:flex;flex-direction:column;}*,*:after,*:before{box-sizing:border-box;}*:focus{outline:none;}a{color:#2864dd;text-decoration:none;}p,li{margin:0;padding:0;}::-webkit-scrollbar-track{background:rgba(0,0,0,0);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.15);border-radius:5px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.3);}*{font-family:sans-serif;}"]),E=n(70),V=n(9),P=function(e){return e.theme.media.tablet},U=l.c.a.withConfig({displayName:"styles__Link",componentId:"sc-tj1z2o-0"})(["margin-bottom:16px;width:450px;height:300px;transition:transform 250ms linear;@media only screen and (max-width:1367px) and (max-height:1366px) and (-webkit-min-device-pixel-ratio:1.5){width:390px;height:250px;}@media ","{width:calc(33% - 14px);margin-right:16px;&:hover{transform:scale(1.03);}}&:nth-child(3n){margin-right:0;}"],P),W=l.c.div.withConfig({displayName:"styles__Text",componentId:"sc-tj1z2o-1"})(["padding:4px 8px;background-color:rgba(0,0,0,0.2);span{color:white;}"]),M=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-tj1z2o-2"})(["display:flex;flex-direction:column;justify-content:space-between;width:100%;height:100%;overflow:hidden;background-image:url(",");background-size:100% 100%;&:hover{","{display:none;}}@media ","{border-radius:8px;}"],(function(e){return e.url}),W,P),R=l.c.div.withConfig({displayName:"styles__Circle",componentId:"sc-tj1z2o-3"})(["margin-right:8px;width:10px;height:10px;border-radius:50%;background:",";"],(function(e){var t=e.theme,n=e.color;return t.colors[n]})),K=l.c.div.withConfig({displayName:"styles__Description",componentId:"sc-tj1z2o-4"})(["padding:4px 8px;display:flex;align-items:center;justify-content:space-between;background-color:",";span{color:white;}"],(function(e){return e.theme.colors.purple})),T=l.c.div.withConfig({displayName:"styles__Container",componentId:"sc-tj1z2o-5"})(["display:flex;align-items:center;"]),B=n(2),J=function(e){var t,n=e.image,i=e.date,o=e.title,r=e.duration,a=e.views,s=e.owner_id,c=e.id,l=e.onClick;return Object(B.jsx)(U,{href:"https://vk.com/video".concat(s,"_").concat(c),target:"_blank",rel:"noreferrer",children:Object(B.jsxs)(M,{url:null===(t=n[3])||void 0===t?void 0:t.url,children:[Object(B.jsxs)(K,{children:[Object(B.jsxs)(T,{children:[Object(B.jsx)(R,{color:"orange"}),Object(B.jsx)("span",{children:i})]}),Object(B.jsxs)("span",{onClick:function(e){return l(e,"time")},children:["time:\xa0",r]}),Object(B.jsxs)("span",{onClick:function(e){return l(e,"views")},children:[a,"\xa0views"]})]}),Object(B.jsx)(W,{children:Object(B.jsx)("span",{children:o})})]})})},Y=n(107),q=function(){return Object(B.jsx)(Y.RingLoader,{size:80,color:"blue"})},G=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-e9ja1l-0"})(["width:100%;display:flex;justify-content:center;flex-wrap:wrap;"]),H=l.c.div.withConfig({displayName:"styles__LoaderWrapper",componentId:"sc-e9ja1l-1"})(["padding-top:350px;position:absolute;top:50%;left:40%;transform:translate(-50%,-50%);@media ","{left:50%;}"],(function(e){return e.theme.media.tablet})),Q=function(e){var t=e.is2160p,n=e.isReverse,i=e.is1080p,r=Object(o.useState)(0),a=Object(V.a)(r,2),s=a[0],l=a[1],d=Object(o.useState)(0),u=Object(V.a)(d,2),p=u[0],b=u[1],h=Object(c.e)((function(e){return e.videos})),m=h.videos,j=h.isLoading,g=Object(o.useState)(m),x=Object(V.a)(g,2),v=x[0],O=x[1],w=function(e,t){switch(e.preventDefault(),t){case"time":l(s>1?0:1===s?2:1);break;case"views":b(p>1?0:1===p?2:1)}};Object(o.useEffect)((function(){switch(p){case 0:O(m);break;case 1:var e=v.slice().sort((function(e,t){return e.views-t.views}));O(e);break;case 2:var t=v.slice().sort((function(e,t){return e.views-t.views})).reverse();O(t)}}),[p]),Object(o.useEffect)((function(){O(m)}),[m]),Object(o.useEffect)((function(){O(n?v.reverse():v)}),[n]),Object(o.useEffect)((function(){if(i){var e=v.filter((function(e){return e.width>=1920}));O(e)}else O(m)}),[i]),Object(o.useEffect)((function(){if(t){var e=v.filter((function(e){return e.width>=2160}));O(e)}else O(m)}),[t]),console.log({videosArr:v});return Object(B.jsxs)(G,{children:[j&&Object(B.jsx)(H,{children:Object(B.jsx)(q,{})}),!j&&(null===v||void 0===v?void 0:v.map((function(e){return Object(B.jsx)(J,Object(f.a)(Object(f.a)({},e),{},{onClick:w}),e.id+Math.random())})))]})},X={is1080p:!1,is2160p:!1,isReverse:!1},Z=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1xtjlie-0"})(["padding-top:95px;position:relative;display:flex;flex-direction:column;@media ","{flex-direction:row;}"],(function(e){return e.theme.media.tablet})),$=function(){var e={initialValues:X,onSubmit:function(e){console.log("")}},t=Object(E.a)(e),n=t.values,i=n.is1080p,o=n.isReverse,r=n.is2160p;t.handleChange;return Object(B.jsx)(Z,{children:Object(B.jsx)(Q,{is1080p:i,isReverse:o,is2160p:r})})},ee=n(108),te=n.n(ee),ne=n(109),ie=n.n(ne),oe=n(229),re=function(e){return e.theme.colors.white},ae=Object(l.c)(oe.a).withConfig({displayName:"styles__InputUI",componentId:"sc-uyoxgk-0"})(["position:relative;width:100%;label[data-shrink='false']{top:-8px;}label{color:"," !important;}div{background-color:transparent;height:40px;border-radius:8px;color:white;fieldset{border-color:"," !important;}input{padding:4px 12px;border-radius:8px;outline:none;&:focus,&:active{border:none;}}}"],re,re),se=function(e){return Object(B.jsx)(ae,Object(f.a)({autoComplete:"off"},e))},ce=n(231),le=n(232),de=n(230),ue=n(234),pe=function(e){return e.theme.colors.white},be=Object(l.c)(de.a).withConfig({displayName:"styles__SelectUI",componentId:"sc-ljwsjl-0"})(["position:relative;"]),fe=Object(l.c)(ue.a).withConfig({displayName:"styles__FormControl",componentId:"sc-ljwsjl-1"})(["label,svg{color:"," !important;}div{color:white;border-radius:8px;&:first-child{padding:8.5px 14px;}}fieldset{border-color:"," !important;}"],pe,pe),he=function(e){var t=e.labelId,n=e.id,i=e.name,o=e.value,r=e.label,a=e.onChange,s=e.options;return Object(B.jsxs)(fe,{style:{color:"white"},fullWidth:!0,children:[Object(B.jsx)(le.a,{id:t,children:r}),Object(B.jsx)(be,{labelId:t,id:n,name:i,value:o,label:r,onChange:a,children:null===s||void 0===s?void 0:s.map((function(e){var t=e.label,n=e.value;return Object(B.jsx)(ce.a,{value:n,children:t},n)}))})]})},me={search:"",sorting:0,isAdult:!0,count:200,offset:0,longer:12,shorter:0},je=function(e){return e.theme.media.tablet},ge=function(e){return e.theme.colors.greyDark},xe=function(e){return e.theme.colors.greyLight},ve=Object(l.d)(["from{transform:translateY(146%);}to{transform:translateY(120%);}"]),Oe=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-97963u-0"})(["background-color:#fff;position:fixed;width:100%;z-index:3;@media ","{padding:12px;}"],je),we=l.c.section.withConfig({displayName:"styles__BaseSection",componentId:"sc-97963u-1"})(["padding:12px;display:flex;justify-content:space-between;align-items:center;height:65px;background-color:",";box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);@media ","{border-radius:8px;}"],ge,je),ye=l.c.div.withConfig({displayName:"styles__Container",componentId:"sc-97963u-2"})(["display:flex;align-items:center;"]),_e=l.c.img.withConfig({displayName:"styles__Avatar",componentId:"sc-97963u-3"})(["margin-right:16px;width:25px;height:25px;border-radius:38%;"]),Ce=l.c.p.withConfig({displayName:"styles__Name",componentId:"sc-97963u-4"})(["margin:0;padding:0;font-size:18px;color:white;@media ","{display:none;}"],(function(e){return e.theme.media.onlyMobile})),ke=l.c.form.withConfig({displayName:"styles__Form",componentId:"sc-97963u-5"})(["display:flex;align-items:center;"]),Ie=l.c.div.withConfig({displayName:"styles__Params",componentId:"sc-97963u-6"})(["flex-shrink:0;margin-left:8px;display:flex;justify-content:center;align-items:center;width:40px;height:40px;border-radius:8px;background-color:#fff;cursor:pointer;&:hover{background-color:",";}"],xe),Ne=l.c.button.withConfig({displayName:"styles__Submit",componentId:"sc-97963u-7"})(["flex-shrink:0;margin-left:8px;display:flex;justify-content:center;align-items:center;width:40px;height:40px;border-radius:8px;background-color:#fff;cursor:pointer;border:none;&:hover{background-color:",";}"],xe),Se=l.c.div.withConfig({displayName:"styles__Options",componentId:"sc-97963u-8"})(["position:absolute;left:0;right:0;padding:18px 12px;height:100vh;width:100%;display:flex;flex-direction:column;background-color:",";border-radius:12px 12px 0 0;animation:"," 200ms forwards;@media ","{top:85px;left:initial;right:12px;height:300px;width:300px;border-radius:12px;}"],ge,ve,je),De=Object(l.c)(se).withConfig({displayName:"styles__OptionInput",componentId:"sc-97963u-9"})(["width:100%;margin-bottom:22px !important;"]),Fe=function(){var e=Object(c.d)(),t=Object(c.e)((function(e){return e.user})),n=t.session.user.id,i=t.user,r=i.photo_big,a=i.first_name,s=i.last_name,l=function(t){var n=Object(V.a)(t.response,1)[0];n&&e(x.setUserData(n))};Object(o.useEffect)((function(){_.getUser(n,l)}),[n]);var d=Object(o.useState)(!1),u=Object(V.a)(d,2),p=u[0],b=u[1],f={initialValues:me,onSubmit:function(t){e(C(function(e){var t=e.isAdult,n=e.count,i=e.offset,o=e.longer,r=e.shorter;return{adult:t?1:0,count:n,hd:1,shorter:0===r?"":60*r,longer:0===o?"":60*o,offset:i,q:e.search,sort:e.sorting,v:"5.131"}}(t)))}},h=Object(E.a)(f),m=h.values,j=m.search,g=m.longer,v=m.shorter,O=m.sorting,w=h.handleChange,y=h.handleSubmit;h.submitForm;return Object(B.jsx)(Oe,{children:Object(B.jsxs)(we,{children:[Object(B.jsxs)(ye,{children:[Object(B.jsx)(_e,{src:r}),Object(B.jsxs)(Ce,{children:[a," ",s]})]}),Object(B.jsxs)(ke,{onSubmit:y,children:[Object(B.jsx)(se,{autoFocus:!0,label:"\u041f\u043e\u0438\u0441\u043a",id:"search",name:"search",value:j,onChange:w}),Object(B.jsx)(Ie,{onClick:function(){return b(!p)},children:Object(B.jsx)(te.a,{})}),Object(B.jsx)(Ne,{type:"submit",children:Object(B.jsx)(ie.a,{})}),p&&Object(B.jsxs)(Se,{children:[Object(B.jsx)(De,{label:"\u041e\u0442",id:"longer",name:"longer",value:g,onChange:w,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(B.jsx)(De,{label:"\u0414\u043e",id:"shorter",name:"shorter",value:v,onChange:w,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(B.jsx)(he,{labelId:"demo-simple-select-label",id:"sorting",name:"sorting",value:O,label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onChange:w,options:[{label:"\u043f\u043e \u0434\u0430\u0442\u0435",value:0},{label:"\u043f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",value:1},{label:"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438",value:2}]})]})]})]})})},Ae=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-ylo4hs-0"})(["position:relative;width:100%;flex:1;"]),Le=function(e){return Object(B.jsxs)(Ae,{children:[Object(B.jsx)(Fe,{}),Object(B.jsx)($,{})]})};n(166);var ze=function(){var e=Object(c.d)(),t=function(t){e(x.setAuthData(t))};return Object(o.useEffect)((function(){_.init(),_.login(t,16)}),[]),Object(B.jsx)(Le,{})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};s.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(c.a,{store:L,children:Object(B.jsx)(i.a,{history:F,children:Object(B.jsxs)(l.a,{theme:{colors:{white:"#ffffff",orange:"#F55064",green:"#42CD7D",blue:"#1976d2",lightenPurple:"#ADA2DD",lightPurple:"#6D73A6",purple:"#7032FF",darkPurple:"#383f75",darkenPurple:"#202442",greySoft:"#F6F6F9",greyLight:"#E1E3E9",grey:"#C7CAD6",greyDark:"#878FA8"},media:{onlyMobile:"(max-width: 767px)",onlyTablet:"(min-width: 768px) and (max-width: 1023px)",tablet:"(min-width: 768px)",desktop:"(min-width: 1280px)"}},children:[Object(B.jsx)(z,{}),Object(B.jsx)(ze,{})]})})})}),document.getElementById("root")),Ee()}},[[167,1,2]]]);
//# sourceMappingURL=main.4873f3b7.chunk.js.map