{"version":3,"sources":["store/auth/actions.ts","store/auth/reducer.ts","store/videos/actions.ts","store/videos/reducer.ts","store/rootReducer.ts","components/ui/Btn/Btn.tsx","components/User/User.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Search/components/Control/Control.tsx","components/Search/components/Control/ControlContainer.tsx","components/ui/ToTop/ToTop.tsx","components/Search/components/Card/Card.tsx","components/Search/components/List/List.tsx","components/Search/components/List/ListContainer.tsx","components/Loader/Loader.tsx","components/Search/Search.tsx","components/Search/SearchContainer.tsx","store/index.ts","index.tsx"],"names":["setAuthData","createAction","authData","payload","startAuth","dispatch","a","window","VK","Auth","login","response","session","user","createReducer","expire","mid","secret","sid","sig","type","state","action","setVideoData","videos","setIsLoading","status","list","isLoading","history","createBrowserHistory","appReducer","combineReducers","form","router","connectRouter","auth","rootReducer","Btn","text","onClick","color","className","Button","variant","User","handleLogin","token","useEffect","first_name","last_name","Header","AppBar","position","Toolbar","Typography","withRouter","connect","states","Control","searchVideo","sortVideo","inputEl","useRef","useState","isHDavailable","setIsHDavailable","isReverse","setIsReverse","q","hd","sort","offset","adult","longer","count","v","request","setRequest","length","current","focus","Input","inputRef","placeholder","onChange","event","value","target","onKeyUp","keyCode","which","FormControlLabel","control","Checkbox","checked","label","FormControl","Select","labelId","id","undefined","MenuItem","Api","call","responseData","allVideos","items","onlyHDvideos","filter","video","width","console","log","formattedVideos","map","duration","Math","trunc","parseInt","toString","date","moment","Date","fromNow","getState","sortedVideos","slice","b","views","reverse","ToTop","scrollTo","IconButton","edge","aria-label","Card","order","href","owner_id","rel","image","src","url","alt","title","List","index","key","Loader","Search","middlewares","thunk","routerMiddleware","middleWareEnhancer","applyMiddleware","store","createStore","composeWithDevTools","configureStore","App","CookiesProvider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d58cafa7.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { Action } from 'redux';\nimport { Auth } from '../../models/Auth';\nimport { ApplicationState } from '../rootReducer';\n\ndeclare global {\n  interface Window {\n    VK: any;\n  }\n}\n\ntype AuthResponse = {\n  session: Auth;\n  status: string;\n};\n\nexport const setAuthData = createAction('SET_AUTH_DATA', (authData: Auth) => ({\n  payload: authData,\n}));\n\nexport function startAuth() {\n  return async (dispatch: ThunkDispatch<ApplicationState, void, Action>) => {\n    const { VK }: Window = window;\n\n    VK.Auth.login(\n      (response: AuthResponse) =>\n        response.session ? dispatch(setAuthData(response.session)) : null,\n      16,\n    ); //  код 16 - запрос прав на доступ к video\n  };\n}\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport { Auth } from '../../models/Auth';\nimport { setAuthData } from './actions';\n\nconst initialState: Auth = {\n  expire: null,\n  mid: null,\n  secret: null,\n  sid: null,\n  sig: null,\n  user: null,\n};\n\nconst user = createReducer(initialState, {\n  [setAuthData.type]: (state, action: ReturnType<typeof setAuthData>) => ({\n    ...state,\n    ...action.payload,\n  }),\n});\n\nexport default user;\n","import { ThunkDispatch } from 'redux-thunk';\nimport { Action } from 'redux';\nimport moment from 'moment';\nimport { createAction } from '@reduxjs/toolkit';\n\nimport { ApplicationState } from '../rootReducer';\nimport { Video } from '../../models/Video';\nimport { Request } from '../../components/Search/components/Control/Control';\n\ntype ResponseType = {\n  response: {\n    items: Video[];\n  };\n};\n\nexport const setVideoData = createAction('SET_VIDEO_DATA', (videos: Video[]) => ({\n  payload: videos,\n}));\n\nexport const setIsLoading = createAction('SET_IS_LOADING', (status: boolean) => ({\n  payload: status,\n}));\n\nexport function searchVideo(request: Request, isHDavailable: boolean) {\n  return async (dispatch: ThunkDispatch<ApplicationState, void, Action>) => {\n    const { VK }: Window = window;\n\n    dispatch(setIsLoading(true))\n\n    VK.Api.call('video.search', request, (responseData: ResponseType) => {\n      const allVideos = responseData.response.items;\n      const onlyHDvideos = isHDavailable\n        ? allVideos\n        : allVideos.filter((video: Video) => video.width === 1920);\n      console.log(onlyHDvideos);\n      const formattedVideos = onlyHDvideos.map((video: Video) => ({\n        ...video,\n        duration: `${Math.trunc(parseInt(video.duration.toString(), 10) / 60)}:${parseInt(\n          video.duration.toString(),\n          10,\n        ) % 60}`,\n        date:\n          typeof video.date === 'number'\n            ? moment(new Date(video.date * 1000).toString()).fromNow()\n            : video.date,\n      }));\n\n      dispatch(setVideoData(formattedVideos));\n      dispatch(setIsLoading(false))\n    });\n  };\n}\n\nexport function sortVideo(isReverse: boolean | undefined) {\n  return async (\n    dispatch: ThunkDispatch<ApplicationState, void, Action>,\n    getState: () => ApplicationState,\n  ) => {\n    const videos: Video[] = getState().videos.list;\n    let sortedVideos: Video[] = [];\n    if (!isReverse && videos.length)\n      sortedVideos = videos.slice().sort((a: Video, b: Video) => b.views - a.views);\n\n    if (isReverse) sortedVideos = videos.slice().reverse();\n\n    dispatch(setVideoData(sortedVideos));\n  };\n}\n","import { createReducer } from '@reduxjs/toolkit';\nimport { Video } from '../../models/Video';\nimport { setVideoData, setIsLoading } from './actions';\n\ntype VideoState = {\n  list: Video[] | [];\n  isLoading: boolean;\n};\n\nconst initialState: VideoState = {\n  list: [],\n  isLoading: false,\n};\n\nconst videos = createReducer(initialState, {\n  [setVideoData.type]: (state, action: ReturnType<typeof setVideoData>) => ({\n    ...state,\n    list: [...action.payload],\n  }),\n  [setIsLoading.type]: (state, action: ReturnType<typeof setIsLoading>) => ({\n    ...state,\n    isLoading: action.payload,\n  }),\n});\n\nexport default videos;\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport { reducer as form } from 'redux-form';\nimport { createBrowserHistory } from 'history';\n\nimport auth from './auth/reducer';\nimport videos from './videos/reducer';\n\nexport const history = createBrowserHistory();\n\nexport type ApplicationState = ReturnType<typeof rootReducer>;\n\nconst appReducer = combineReducers({\n  form,\n  router: connectRouter(history),\n  auth,\n  videos,\n});\n\nconst rootReducer = (state: any, action: any) => appReducer(state, action);\n\nexport default rootReducer;\n","import React from 'react';\nimport Button, { ButtonProps } from '@material-ui/core/Button';\n\ntype BtnProps = ButtonProps & {\n  text: string;\n};\n\nconst Btn: React.FC<BtnProps> = ({ text, onClick, color, className }) => (\n  <Button variant=\"contained\" color={color} onClick={onClick} className={className}>\n    {text}\n  </Button>\n);\n\nexport default Btn;\n","import React, { useEffect } from 'react';\nimport Btn from '../ui/Btn/Btn';\nimport { User as UserType } from '../../models/Auth';\n\ntype UserProps = {\n  user: UserType | null;\n  token: string | null;\n  handleLogin: () => void;\n};\n\nconst User: React.FC<UserProps> = ({ handleLogin, user, token }) => {\n  useEffect(() => {\n    handleLogin();\n  }, []);\n\n  return (\n    <>\n      {!token && <Btn text=\"Login\" color=\"secondary\" onClick={handleLogin} />}\n      {token && (\n        <p>\n          {user!.first_name} {user!.last_name}\n        </p>\n      )}\n    </>\n  );\n};\nexport default User;\n","import React from 'react';\nimport { AppBar, Toolbar, Typography } from '@material-ui/core';\nimport User from '../User/User';\nimport { HeaderProps } from './HeaderContainer';\n\nimport './Header.scss';\n\nconst Header: React.FC<HeaderProps> = ({ startAuth, token, user }) => (\n  <AppBar position=\"fixed\">\n    <Toolbar>\n      <Typography variant=\"h6\">Searching Videos</Typography>\n      <div className=\"header__user\">\n        <User handleLogin={startAuth} user={user} token={token} />\n      </div>\n    </Toolbar>\n  </AppBar>\n);\n\nexport default Header;\n","import { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\n\nimport { startAuth } from '../../store/auth/actions';\n\nimport { ApplicationState } from '../../store/rootReducer';\nimport { User } from '../../models/Auth';\n\nimport Header from './Header';\n\ntype HeaderOwnProps = RouteComponentProps & {};\n\ntype DispatchProps = {\n  startAuth: () => void;\n};\n\ntype StateProps = {\n  user: User | null,\n  token: string | null,\n};\nexport type HeaderProps = StateProps & HeaderOwnProps & DispatchProps;\n\nconst mapStateToProps = (states: ApplicationState):  StateProps => ({\n  user: states.auth.user,\n  token: states.auth.sid,\n});\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>): DispatchProps => ({\n  startAuth: () => dispatch(startAuth()),\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(Header),\n);\n","import React, { ChangeEvent, KeyboardEvent, useState, useEffect, useRef } from 'react';\nimport {\n  Input,\n  Checkbox,\n  FormControlLabel,\n  FormControl,\n  MenuItem,\n  Select,\n} from '@material-ui/core';\nimport { ControlProps } from './ControlContainer';\n\nimport './Control.scss';\nimport Btn from '../../../ui/Btn/Btn';\n\nexport type Request = {\n  q: string;\n  hd: number;\n  sort: number;\n  offset: number;\n  adult: number;\n  longer: number;\n  shorter?: number;\n  count: number;\n  v: '5.103';\n};\n\nconst Control: React.FC<ControlProps> = ({ searchVideo, sortVideo }) => {\n  const inputEl = useRef<HTMLInputElement>(null);\n  const [isHDavailable, setIsHDavailable] = useState<boolean>(false);\n  const [isReverse, setIsReverse] = useState<boolean>(false);\n  const [request, setRequest] = useState<Request>({\n    q: '',\n    hd: 1,\n    sort: 0,\n    offset: 0,\n    adult: 1,\n    longer: 60 * 9,\n    // shorter: 60 * 15,\n    count: 200,\n    v: '5.103',\n  });\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const {\n      target: { value },\n    } = event;\n\n    if (value) setRequest({ ...request, q: value });\n  };\n\n  const handleSearch = (event: KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const keyCode = event.keyCode || event.which;\n\n    if (keyCode === 13) searchVideo(request, isHDavailable);\n  };\n\n  const handleSelect = (event: ChangeEvent<{ value: unknown }>) => {\n    const {\n      target: { value },\n    } = event;\n\n    if (value === 3) {\n      sortVideo(undefined);\n      return;\n    }\n\n    setRequest({ ...request, sort: value as number });\n  };\n\n  useEffect(() => {\n    sortVideo(isReverse);\n  }, [isReverse]);\n\n  useEffect(() => {\n    if (request.q.length > 1) searchVideo(request, isHDavailable);\n  }, [request.offset]);\n\n  useEffect(() => {\n    if (inputEl && inputEl.current) {\n      inputEl.current.focus();\n    }\n  }, []);\n\n  return (\n    <div className=\"control\">\n      <Input\n        inputRef={inputEl}\n        placeholder=\"searching request\"\n        onChange={handleChange}\n        onKeyUp={handleSearch}\n        className=\"control__item\"\n      />\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={isHDavailable}\n            onChange={event => setIsHDavailable(event.target.checked)}\n          />\n        }\n        label=\"Including 720p\"\n      />\n      <FormControlLabel\n        control={\n          <Checkbox checked={isReverse} onChange={event => setIsReverse(event.target.checked)} />\n        }\n        label=\"Reverse\"\n      />\n      <FormControl className=\"control__item\">\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={request.sort}\n          onChange={handleSelect}\n        >\n          <MenuItem value={0}>по дате добавления видеозаписи</MenuItem>\n          <MenuItem value={1}>по длительности</MenuItem>\n          <MenuItem value={2}>по релевантности</MenuItem>\n          <MenuItem value={3}>по кол-ву просмотров</MenuItem>\n        </Select>\n      </FormControl>\n      <Btn\n        className=\"control__item\"\n        text=\"+200 more\"\n        color=\"secondary\"\n        onClick={() => setRequest({ ...request, offset: request.offset + 200 })}\n      />\n    </div>\n  );\n};\n\nexport default Control;\n","import { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\n\nimport { searchVideo, sortVideo } from '../../../../store/videos/actions';\n\n// import { ApplicationState } from '@store/rootReducer';\n\nimport Control, { Request } from './Control';\n\ntype ControlOwnProps = RouteComponentProps & {};\n\ntype DispatchProps = {\n  searchVideo: (request: Request, isHDavailable: boolean) => void;\n  sortVideo: (isReverse: boolean | undefined) => void;\n};\n\ntype StateProps = {};\nexport type ControlProps = StateProps & ControlOwnProps & DispatchProps;\n\nconst mapStateToProps = (/* states: ApplicationState */): StateProps => ({});\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>): DispatchProps => ({\n  searchVideo: (request: Request, isHDavailable: boolean) =>\n    dispatch(searchVideo(request, isHDavailable)),\n  sortVideo: (isReverse: boolean | undefined) => dispatch(sortVideo(isReverse)),\n});\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Control));\n","import React from 'react';\n\nimport './ToTop.scss';\nimport { IconButton } from '@material-ui/core';\nimport PublishIcon from '@material-ui/icons/Publish';\n\nconst ToTop: React.FC = () => (\n  <div className=\"totop\" onClick={() => window.scrollTo(0, 0)}>\n    <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n      <PublishIcon />\n    </IconButton>\n  </div>\n);\n\nexport default ToTop;\n","import React from 'react';\n\nimport { Video } from '../../../../models/Video';\n\nimport './Card.scss';\n\ntype CardProps = {\n  video: Video;\n  order: number;\n};\n\nconst Card: React.FC<CardProps> = ({ video, order }: CardProps) => (\n  <li className=\"card\">\n    <a\n      className=\"card__link\"\n      href={`https://vk.com/video${video.owner_id}_${video.id}`}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n    >\n      {video.image && (\n        <img className=\"card__img\" src={video.image[3].url} alt=\"bla\" />\n      )}\n      <span className=\"card__container\">\n        <p className=\"card__text\">{video.date}</p>\n        <p className=\"card__text\">{video.duration}</p>\n        <p className=\"card__text\">{video.views}</p>\n      </span>\n      <p className=\"card__title\">{video.title}</p>\n      <p className=\"card__order\">{order}</p>\n    </a>\n  </li>\n);\n\nexport default Card;\n","import React from 'react';\n\nimport { Video } from '../../../../models/Video';\nimport { ListProps } from './ListContainer';\n\nimport ToTop from '../../../ui/ToTop/ToTop';\nimport Card from '../Card/Card';\n\nimport './List.scss';\n\nconst List: React.FC<ListProps> = ({ videos }: ListProps) => (\n  <>\n    <ul className=\"list\">\n      {videos.map((video: Video, index: number) => (\n        <Card video={video} key={`${video.id}_${video.owner_id}`} order={index + 1} />\n      ))}\n    </ul>\n    {!!videos.length && <ToTop />}\n  </>\n);\n\nexport default List;\n","import { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\n\nimport { startAuth } from '../../../../store/auth/actions';\n\nimport { ApplicationState } from '../../../../store/rootReducer';\nimport {Video} from '../../../../models/Video';\n\nimport List from './List';\n\ntype ListOwnProps = RouteComponentProps & {};\n\ntype DispatchProps = {};\n\ntype StateProps = {\n  videos: Video[];\n};\nexport type ListProps = StateProps & ListOwnProps & DispatchProps;\n\nconst mapStateToProps = (states: ApplicationState ): StateProps => ({\n  videos: states.videos.list\n});\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>): DispatchProps => ({\n  startAuth: () => dispatch(startAuth()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(List));\n","import React from 'react';\n\nimport './Loader.scss';\n\ntype LoaderProps = {};\n\nconst Loader: React.FC<LoaderProps> = () => (\n  <div className=\"loader\">\n    <div className=\"lds-facebook\">\n      <div />\n      <div />\n      <div />\n    </div>\n  </div>\n);\n\nexport default Loader;\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport Header from '../Header/HeaderContainer';\nimport Control from './components/Control/ControlContainer';\nimport List from './components/List/ListContainer';\n\nimport { SearchProps } from './SearchContainer';\n\nimport './Search.scss';\nimport Loader from '../Loader/Loader';\n\nconst Search: React.FC<SearchProps> = ({ token, isLoading }) => (\n  <main className=\"search\">\n    <Header />\n    <div className=\"search__content\">\n      {token && (\n        <>\n          <Control />\n          <div className=\"search__list\">\n            {!isLoading && <List />}\n            {isLoading && <Loader />}\n          </div>\n        </>\n      )}\n      {!token && <Typography>Вы не авторизованы, необходимо авторизоваться Вконтакте</Typography>}\n    </div>\n  </main>\n);\n\nexport default Search;\n","import { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\n\nimport { ApplicationState } from '../../store/rootReducer';\nimport { startAuth } from '../../store/auth/actions';\n\nimport Search from './Search';\n\ntype SearchOwnProps = RouteComponentProps & {};\n\ntype DispatchProps = {\n  startAuth: () => void;\n};\n\ntype StateProps = {\n  token: string | null;\n  isLoading: boolean;\n};\n\nexport type SearchProps = StateProps & SearchOwnProps & DispatchProps;\n\nconst mapStateToProps = (states: ApplicationState): StateProps => ({\n  token: states.auth.sid,\n  isLoading: states.videos.isLoading\n});\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>): DispatchProps => ({\n  startAuth: () => dispatch(startAuth()),\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(Search),\n);\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { routerMiddleware } from 'connected-react-router';\nimport thunk from 'redux-thunk';\nimport rootReducer, { history } from './rootReducer';\n\nexport type AppState = ReturnType<typeof rootReducer>;\nexport type StoreConfig = ReturnType<typeof configureStore>;\n\nexport default function configureStore() {\n  // const sagaMiddleware = createSagaMiddleware();\n  const middlewares = [thunk, routerMiddleware(history)];\n  const middleWareEnhancer = applyMiddleware(...middlewares);\n\n  const store = createStore(rootReducer, {}, composeWithDevTools(middleWareEnhancer));\n\n  // rootSagas.forEach(sagaMiddleware.run);\n\n  return { store, history };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { CookiesProvider } from 'react-cookie';\n\nimport configureStore from './store/index';\nimport Search from './components/Search/SearchContainer';\n\nimport 'normalize.css';\nimport './index.css';\n\n// Main style file\nimport './styles/index.scss';\n\nexport const { store, history } = configureStore();\n\nconst App: React.FC = () => (\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <CookiesProvider>\n        <section className=\"app\">\n          <Search />\n        </section>\n      </CookiesProvider>\n    </ConnectedRouter>\n  </Provider>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}