(this.webpackJsonpvkvideo=this.webpackJsonpvkvideo||[]).push([[0],{111:function(e,t,n){e.exports=n(207)},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return se})),n.d(t,"history",(function(){return me}));var a=n(0),r=n.n(a),c=n(8),o=n.n(c),l=n(16),u=n(46),i=n(250),s=n(13),m=n(95),d=n(91),f=n(47),v=n(249),E=n(97),b=n(31),p=n(12),h=n(20),O=n(27),j=n.n(O),_=n(48),g=Object(h.a)("SET_AUTH_DATA",(function(e){return{payload:e}}));function k(){return function(){var e=Object(_.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window,n.VK.Auth.login((function(e){return e.session?t(g(e.session)):null}),16);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var N,y=Object(h.b)({expire:null,mid:null,secret:null,sid:null,sig:null,user:null},Object(b.a)({},g.type,(function(e,t){return Object(p.a)(Object(p.a)({},e),t.payload)}))),w=n(104),x=n(96),A=n.n(x),S=Object(h.a)("SET_VIDEO_DATA",(function(e){return{payload:e}})),C=Object(h.a)("SET_IS_LOADING",(function(e){return{payload:e}}));var L=Object(h.b)({list:[],isLoading:!1},(N={},Object(b.a)(N,S.type,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{list:Object(w.a)(t.payload)})})),Object(b.a)(N,C.type,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.payload})})),N)),I=Object(E.a)(),T=Object(s.combineReducers)({form:v.a,router:Object(u.b)(I),auth:y,videos:L}),V=function(e,t){return T(e,t)};var D=n(65),q=n(209),R=n(242),F=n(243),K=n(238),J=function(e){var t=e.text,n=e.onClick,a=e.color,c=e.className;return r.a.createElement(K.a,{variant:"contained",color:a,onClick:n,className:c},t)},M=function(e){var t=e.handleLogin,n=e.user,c=e.token;return Object(a.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,!c&&r.a.createElement(J,{text:"Login",color:"secondary",onClick:t}),c&&r.a.createElement("p",null,n.first_name," ",n.last_name))},U=(n(196),function(e){var t=e.startAuth,n=e.token,a=e.user;return r.a.createElement(R.a,{position:"fixed"},r.a.createElement(F.a,null,r.a.createElement(q.a,{variant:"h6"},"Searching Videos"),r.a.createElement("div",{className:"header__user"},r.a.createElement(M,{handleLogin:t,user:a,token:n}))))}),B=Object(D.c)(Object(l.c)((function(e){return{user:e.auth.user,token:e.auth.sid}}),(function(e){return{startAuth:function(){return e(k())}}}))(U)),G=n(66),H=n(244),W=n(245),z=n(251),P=n(247),Q=n(248),X=n(252),Y=(n(197),function(e){var t=e.searchVideo,n=e.sortVideo,c=Object(a.useRef)(null),o=Object(a.useState)(!1),l=Object(G.a)(o,2),u=l[0],i=l[1],s=Object(a.useState)(!1),m=Object(G.a)(s,2),d=m[0],f=m[1],v=Object(a.useState)({q:"",hd:1,sort:0,offset:0,adult:1,longer:540,count:200,v:"5.103"}),E=Object(G.a)(v,2),b=E[0],h=E[1];return Object(a.useEffect)((function(){n(d)}),[d]),Object(a.useEffect)((function(){b.q.length>1&&t(b,u)}),[b.offset]),Object(a.useEffect)((function(){c&&c.current&&c.current.focus()}),[]),r.a.createElement("div",{className:"control"},r.a.createElement(H.a,{inputRef:c,placeholder:"searching request",onChange:function(e){var t=e.target.value;t&&h(Object(p.a)(Object(p.a)({},b),{},{q:t}))},onKeyUp:function(e){13===(e.keyCode||e.which)&&t(b,u)},className:"control__item"}),r.a.createElement(W.a,{control:r.a.createElement(z.a,{checked:u,onChange:function(e){return i(e.target.checked)}}),label:"Including 720p"}),r.a.createElement(W.a,{control:r.a.createElement(z.a,{checked:d,onChange:function(e){return f(e.target.checked)}}),label:"Reverse"}),r.a.createElement(P.a,{className:"control__item"},r.a.createElement(Q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b.sort,onChange:function(e){var t=e.target.value;3!==t?h(Object(p.a)(Object(p.a)({},b),{},{sort:t})):n(void 0)}},r.a.createElement(X.a,{value:0},"\u043f\u043e \u0434\u0430\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u0438"),r.a.createElement(X.a,{value:1},"\u043f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),r.a.createElement(X.a,{value:2},"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"),r.a.createElement(X.a,{value:3},"\u043f\u043e \u043a\u043e\u043b-\u0432\u0443 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"))),r.a.createElement(J,{className:"control__item",text:"+200 more",color:"secondary",onClick:function(){return h(Object(p.a)(Object(p.a)({},b),{},{offset:b.offset+200}))}}))}),Z=Object(D.c)(Object(l.c)((function(){return{}}),(function(e){return{searchVideo:function(t,n){return e(function(e,t){return function(){var n=Object(_.a)(j.a.mark((function n(a){var r,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=window,c=r.VK,a(C(!0)),c.Api.call("video.search",e,(function(e){var n=e.response.items,r=t?n:n.filter((function(e){return 1920===e.width}));console.log(r);var c=r.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{duration:"".concat(Math.trunc(parseInt(e.duration.toString(),10)/60),":").concat(parseInt(e.duration.toString(),10)%60),date:"number"===typeof e.date?A()(new Date(1e3*e.date).toString()).fromNow():e.date})}));a(S(c)),a(C(!1))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},sortVideo:function(t){return e(function(e){return function(){var t=Object(_.a)(j.a.mark((function t(n,a){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a().videos.list,c=[],!e&&r.length&&(c=r.slice().sort((function(e,t){return t.views-e.views}))),e&&(c=r.slice().reverse()),n(S(c));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Y)),$=(n(198),n(246)),ee=n(103),te=n.n(ee),ne=function(){return r.a.createElement("div",{className:"totop",onClick:function(){return window.scrollTo(0,0)}},r.a.createElement($.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(te.a,null)))},ae=(n(200),function(e){var t=e.video,n=e.order;return r.a.createElement("li",{className:"card"},r.a.createElement("a",{className:"card__link",href:"https://vk.com/video".concat(t.owner_id,"_").concat(t.id),target:"_blank",rel:"noreferrer"},t.image&&r.a.createElement("img",{className:"card__img",src:t.image[3].url,alt:"bla"}),r.a.createElement("span",{className:"card__container"},r.a.createElement("p",{className:"card__text"},t.date),r.a.createElement("p",{className:"card__text"},t.duration),r.a.createElement("p",{className:"card__text"},t.views)),r.a.createElement("p",{className:"card__title"},t.title),r.a.createElement("p",{className:"card__order"},n)))}),re=(n(201),function(e){var t=e.videos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list"},t.map((function(e,t){return r.a.createElement(ae,{video:e,key:"".concat(e.id,"_").concat(e.owner_id),order:t+1})}))),!!t.length&&r.a.createElement(ne,null))}),ce=Object(D.c)(Object(l.c)((function(e){return{videos:e.videos.list}}),(function(e){return{startAuth:function(){return e(k())}}}))(re)),oe=(n(202),n(203),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),le=function(e){var t=e.token,n=e.isLoading;return r.a.createElement("main",{className:"search"},r.a.createElement(B,null),r.a.createElement("div",{className:"search__content"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement("div",{className:"search__list"},!n&&r.a.createElement(ce,null),n&&r.a.createElement(oe,null))),!t&&r.a.createElement(q.a,null,"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435")))},ue=Object(D.c)(Object(l.c)((function(e){return{token:e.auth.sid,isLoading:e.videos.isLoading}}),(function(e){return{startAuth:function(){return e(k())}}}))(le)),ie=(n(204),n(205),n(206),function(){var e=[f.a,Object(d.a)(I)],t=s.applyMiddleware.apply(void 0,e);return{store:Object(s.createStore)(V,{},Object(m.composeWithDevTools)(t)),history:I}}()),se=ie.store,me=ie.history,de=function(){return r.a.createElement(l.a,{store:se},r.a.createElement(u.a,{history:me},r.a.createElement(i.a,null,r.a.createElement("section",{className:"app"},r.a.createElement(ue,null)))))};o.a.render(r.a.createElement(de,null),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.4f3507f6.chunk.js.map