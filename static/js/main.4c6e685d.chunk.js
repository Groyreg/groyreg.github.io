(this.webpackJsonpvio=this.webpackJsonpvio||[]).push([[0],{158:function(e,t,n){"use strict";n.r(t);var i=n(66),o=n(0),r=n.n(o),a=n(30),s=n.n(a),c=n(28),l=n(15),d=n(86),u=n(92),p=n(36),b=n(46),h=n(22),f={id:"",domain:null,href:null,first_name:null,last_name:null,nickname:null,photo_big:""},j={session:{mid:null,sid:null,sig:null,secret:null,expire:null,user:f},user:f},g=Object(b.b)({name:"User",initialState:j,reducers:{setAuthData:function(e,t){var n=t.payload.session;return Object(h.a)(Object(h.a)({},e),{},{session:n})},setUserData:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{user:n})}}}),m=g.reducer,x=g.actions,v=m,O=n(18),w=n(91),y=n.n(w),_={init:function(){window.VK.init({apiId:7475970})},login:function(e,t){window.VK.Auth.login(e,t)},getUser:function(e,t){var n={user_ids:e,fields:"photo_big",name_case:"Nom",v:"5.126"};window.VK.Api.call("users.get",n,t)},searchVideos:function(e,t){window.VK.Api.call("video.search",e,t)}},C=function(e){return function(t){console.log({t:e.offset}),t(S.setLoading(!0)),_.searchVideos(e,(function(n){return k(n,e,t)}))}},k=function(e,t,n){var i=e.response.items.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{duration:"".concat(Math.trunc(parseInt(e.duration.toString(),10)/60),":").concat(parseInt(e.duration.toString(),10)%60),date:"number"===typeof e.date?y()(new Date(1e3*e.date).toString()).fromNow():e.date})})).filter((function(e){return"0:0"!==e.duration}));if(n(S.setVideos(i)),n(S.setLoading(!1)),t.offset<1e3){var o=Object(h.a)(Object(h.a)({},t),{},{offset:t.offset+200});n(C(o))}},I=Object(b.b)({name:"Videos",initialState:{isLoading:!1,videos:[]},reducers:{setLoading:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{isLoading:n})},setVideos:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{videos:[].concat(Object(O.a)(e.videos),Object(O.a)(n))})}}}),N=I.reducer,S=I.actions,A=N,D=Object(u.a)(),F=Object(p.b)({router:Object(i.b)(D),user:v,videos:A}),L=Object(b.a)({reducer:F,middleware:function(){return Object(b.c)().concat(Object(d.a)(D))}}),V=Object(l.b)(["html,body{height:100%;margin:0;padding:0;}#root{height:100%;width:100%;display:flex;flex-direction:column;}*,*:after,*:before{box-sizing:border-box;}*:focus{outline:none;}a{color:#2864dd;text-decoration:none;}p,li{margin:0;padding:0;}::-webkit-scrollbar-track{background:rgba(0,0,0,0);}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.15);border-radius:5px;}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.3);}*{font-family:sans-serif;}"]),z=n(65),P=n(9),E=l.c.a.withConfig({displayName:"styles__Link",componentId:"sc-tj1z2o-0"})(["margin:0 25px 25px 0;box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);transition:transform 250ms linear;&:hover{transform:translateY(-10px);}&:nth-child(3n){margin-right:0;}"]),R=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-tj1z2o-1"})(["width:400px;height:250px;border-radius:8px;overflow:hidden;background-image:url(",");background-size:100% 100%;"],(function(e){return e.url})),W=l.c.div.withConfig({displayName:"styles__Circle",componentId:"sc-tj1z2o-2"})(["margin-right:8px;width:10px;height:10px;border-radius:50%;background:",";"],(function(e){var t=e.theme,n=e.color;return t.colors[n]})),U=l.c.div.withConfig({displayName:"styles__Description",componentId:"sc-tj1z2o-3"})(["padding:4px 8px;display:flex;align-items:center;justify-content:space-between;background-color:",";span{color:white;}"],(function(e){return e.theme.colors.purple})),B=l.c.div.withConfig({displayName:"styles__Container",componentId:"sc-tj1z2o-4"})(["display:flex;align-items:center;"]),K=n(2),M=function(e){var t,n=e.image,i=e.date,o=e.duration,r=e.views,a=e.owner_id,s=e.id,c=e.onClick;return Object(K.jsx)(E,{href:"https://vk.com/video".concat(a,"_").concat(s),target:"_blank",rel:"noreferrer",children:Object(K.jsx)(R,{url:null===(t=n[3])||void 0===t?void 0:t.url,children:Object(K.jsxs)(U,{children:[Object(K.jsxs)(B,{children:[Object(K.jsx)(W,{color:"orange"}),Object(K.jsx)("span",{children:i})]}),Object(K.jsxs)("span",{onClick:function(e){return c(e,"time")},children:["time:\xa0",o]}),Object(K.jsxs)("span",{onClick:function(e){return c(e,"views")},children:[r,"\xa0views"]})]})})})},T=n(101),q=function(){return Object(K.jsx)(T.RingLoader,{size:80,color:"white"})},J=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-e9ja1l-0"})(["padding:12px 12px 12px 275px;width:100%;display:flex;justify-content:center;flex-wrap:wrap;"]),H=l.c.div.withConfig({displayName:"styles__LoaderWrapper",componentId:"sc-e9ja1l-1"})(["padding-top:150px;"]),Y=function(e){var t=e.is2160p,n=e.isReverse,i=e.is1080p,r=Object(o.useState)(0),a=Object(P.a)(r,2),s=a[0],l=a[1],d=Object(o.useState)(0),u=Object(P.a)(d,2),p=u[0],b=u[1],f=Object(c.e)((function(e){return e.videos})),j=f.videos,g=f.isLoading,m=Object(o.useState)(j),x=Object(P.a)(m,2),v=x[0],O=x[1],w=function(e,t){switch(e.preventDefault(),t){case"time":l(s>1?0:1===s?2:1);break;case"views":b(p>1?0:1===p?2:1)}};Object(o.useEffect)((function(){switch(p){case 0:O(j);break;case 1:var e=v.slice().sort((function(e,t){return e.views-t.views}));O(e);break;case 2:var t=v.slice().sort((function(e,t){return e.views-t.views})).reverse();O(t)}}),[p]),Object(o.useEffect)((function(){O(j)}),[j]),Object(o.useEffect)((function(){O(n?v.reverse():v)}),[n]),Object(o.useEffect)((function(){if(i){var e=v.filter((function(e){return e.width>=1920}));v.forEach((function(e){var t=e.width,n=e.height;t>1920&&console.log({width:t,height:n})})),O(e)}else O(j)}),[i]),Object(o.useEffect)((function(){if(t){var e=v.filter((function(e){return e.width>=2160}));O(e)}else O(j)}),[t]),console.log({videosArr:v});return Object(K.jsxs)(J,{children:[g&&Object(K.jsx)(H,{children:Object(K.jsx)(q,{})}),!g&&(null===v||void 0===v?void 0:v.map((function(e){return Object(K.jsx)(M,Object(h.a)(Object(h.a)({},e),{},{onClick:w}),e.id+Math.random())})))]})},G=n(222),Q=n(221),X=Object(l.c)(Q.a).withConfig({displayName:"styles__CheckboxUI",componentId:"sc-6ag0u7-0"})(["position:relative;color:"," !important;"],(function(e){return e.theme.colors.blue})),Z=function(e){var t=e.value,n=e.name,i=e.id,o=e.label,r=e.onChange;return Object(K.jsx)(G.a,{style:{color:"white",marginBottom:"12px"},control:Object(K.jsx)(X,{defaultChecked:t,onChange:r,id:i,value:t,name:n}),label:o})},$=n(218),ee=function(e){return e.theme.colors.blue},te=Object(l.c)($.a).withConfig({displayName:"styles__InputUI",componentId:"sc-uyoxgk-0"})(["position:relative;width:100%;label[data-shrink='false']{top:-8px;}label{color:",";}div{margin-bottom:20px;background-color:transparent;height:40px;border-radius:8px;color:white;fieldset{border-color:"," !important;}input{padding:4px 12px;border-radius:8px;outline:none;&:focus,&:active{border:none;}}}"],ee,ee),ne=function(e){return Object(K.jsx)(te,Object(h.a)({autoComplete:"off"},e))},ie=n(223),oe=n(225),re=n(219),ae=n(224),se=function(e){return e.theme.colors.blue},ce=Object(l.c)(re.a).withConfig({displayName:"styles__SelectUI",componentId:"sc-ljwsjl-0"})(["position:relative;"]),le=Object(l.c)(ae.a).withConfig({displayName:"styles__FormControl",componentId:"sc-ljwsjl-1"})(["label,svg{color:",";}div{color:white;border-radius:8px;&:first-child{padding:8.5px 14px;}}fieldset{border-color:"," !important;}"],se,se),de=function(e){var t=e.labelId,n=e.id,i=e.name,o=e.value,r=e.label,a=e.onChange,s=e.options;return Object(K.jsxs)(le,{style:{color:"white"},fullWidth:!0,children:[Object(K.jsx)(oe.a,{id:t,children:r}),Object(K.jsx)(ce,{labelId:t,id:n,name:i,value:o,label:r,onChange:a,children:null===s||void 0===s?void 0:s.map((function(e){var t=e.label,n=e.value;return Object(K.jsx)(ie.a,{value:n,children:t},n)}))})]})},ue=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1bkqnf5-0"})(["border-radius:8px;background-color:",";box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);"],(function(e){return e.theme.colors.darkPurple})),pe=function(e){var t=e.children;return Object(K.jsx)(ue,{children:t})},be=n(227),he=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-10dy3k4-0"})(["position:fixed;padding:12px;"]),fe=l.c.form.withConfig({displayName:"styles__Form",componentId:"sc-10dy3k4-1"})(["padding:22px;width:250px;"]),je=Object(l.c)(be.a).withConfig({displayName:"styles__Button",componentId:"sc-10dy3k4-2"})(["width:100%;"]),ge=l.c.div.withConfig({displayName:"styles__Filters",componentId:"sc-10dy3k4-3"})(["padding:22px;border-top:1px solid ",";display:flex;flex-direction:column;"],(function(e){return e.theme.colors.blue})),me={search:"",sorting:0,isAdult:!0,count:200,offset:0,longer:12,shorter:0},xe=function(e){var t=e.is1080p,n=e.onFilterChange,i=e.is2160p,o=e.isReverse,r=Object(c.d)(),a={initialValues:me,onSubmit:function(e){r(C(function(e){var t=e.isAdult,n=e.count,i=e.offset,o=e.longer,r=e.shorter;return{adult:t?1:0,count:n,hd:0,shorter:0===r?"":60*r,longer:0===o?"":60*o,offset:i,q:e.search,sort:e.sorting,v:"5.131"}}(e)))}},s=Object(z.a)(a),l=s.values,d=l.search,u=l.isAdult,p=l.sorting,b=l.shorter,h=l.longer,f=s.handleChange,j=s.handleSubmit;return Object(K.jsx)(he,{children:Object(K.jsxs)(pe,{children:[Object(K.jsxs)(fe,{onSubmit:j,children:[Object(K.jsx)(ne,{autoFocus:!0,label:"\u0418\u0449\u0435\u043c",id:"search",name:"search",value:d,onChange:f}),Object(K.jsx)(ne,{label:"\u041e\u0442",id:"longer",name:"longer",value:h,onChange:f,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(K.jsx)(ne,{label:"\u0414\u043e",id:"shorter",name:"shorter",value:b,onChange:f,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(K.jsx)(de,{labelId:"demo-simple-select-label",id:"sorting",name:"sorting",value:p,label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onChange:f,options:[{label:"\u043f\u043e \u0434\u0430\u0442\u0435",value:0},{label:"\u043f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",value:1},{label:"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438",value:2}]}),Object(K.jsx)(Z,{onChange:f,id:"isAdult",value:u,name:"isAdult",label:"\u0412\u0438\u0434\u0435\u043e \u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445"}),Object(K.jsx)(je,{variant:"outlined",type:"submit",children:"Search"})]}),Object(K.jsxs)(ge,{children:[Object(K.jsx)(Z,{onChange:n,id:"is1080p",value:t,name:"is1080p",label:"\u0412\u0438\u0434\u0435\u043e Full HD"}),Object(K.jsx)(Z,{onChange:n,id:"is2160p",value:i,name:"is2160p",label:"\u0412\u0438\u0434\u0435\u043e 4k"}),Object(K.jsx)(Z,{onChange:n,id:"isReverse",value:o,name:"isReverse",label:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a"})]})]})})},ve={is1080p:!1,is2160p:!1,isReverse:!1},Oe=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1xtjlie-0"})(["padding-top:70px;position:relative;display:flex;flex-direction:column;@media ","{flex-direction:row;}"],(function(e){return e.theme.media.tablet})),we=function(){var e={initialValues:ve,onSubmit:function(e){console.log("")}},t=Object(z.a)(e),n=t.values,i=n.is1080p,o=n.isReverse,r=n.is2160p,a=t.handleChange;return Object(K.jsxs)(Oe,{children:[Object(K.jsx)(xe,{is1080p:i,isReverse:o,is2160p:r,onFilterChange:a}),Object(K.jsx)(Y,{is1080p:i,isReverse:o,is2160p:r})]})},ye=function(e){return e.theme.media.tablet},_e=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-97963u-0"})(["position:fixed;width:100%;z-index:3;background-color:",";@media ","{padding:12px 12px 20px;}"],(function(e){return e.theme.colors.darkenPurple}),ye),Ce=l.c.div.withConfig({displayName:"styles__Container",componentId:"sc-97963u-1"})(["padding:12px;display:flex;align-items:center;height:50px;background-color:",";box-shadow:11px 11px 21px -5px rgba(4,4,4,0.29);@media ","{border-radius:8px;}"],(function(e){return e.theme.colors.darkPurple}),ye),ke=l.c.img.withConfig({displayName:"styles__Avatar",componentId:"sc-97963u-2"})(["margin-right:16px;width:25px;height:25px;border-radius:38%;"]),Ie=l.c.p.withConfig({displayName:"styles__Name",componentId:"sc-97963u-3"})(["margin:0;padding:0;font-size:18px;color:white;"]),Ne=function(){var e=Object(c.d)(),t=Object(c.e)((function(e){return e.user})),n=t.session.user.id,i=t.user,r=i.photo_big,a=i.first_name,s=i.last_name,l=function(t){var n=Object(P.a)(t.response,1)[0];n&&e(x.setUserData(n))};return Object(o.useEffect)((function(){_.getUser(n,l)}),[n]),Object(K.jsx)(_e,{children:Object(K.jsxs)(Ce,{children:[Object(K.jsx)(ke,{src:r}),Object(K.jsxs)(Ie,{children:[a," ",s]})]})})},Se=l.c.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-ylo4hs-0"})(["position:relative;width:100%;background:",";flex:1;"],(function(e){return e.theme.colors.darkenPurple})),Ae=function(e){return console.log(e),Object(K.jsxs)(Se,{children:[Object(K.jsx)(Ne,{}),Object(K.jsx)(we,{})]})};n(157);var De=function(){var e=Object(c.d)(),t=function(t){e(x.setAuthData(t))};return Object(o.useEffect)((function(){_.init(),_.login(t,16)}),[]),Object(K.jsx)(Ae,{})},Fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};s.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(c.a,{store:L,children:Object(K.jsx)(i.a,{history:D,children:Object(K.jsxs)(l.a,{theme:{colors:{white:"#ffffff",orange:"#F55064",green:"#42CD7D",blue:"#1976d2",lightenPurple:"#ADA2DD",lightPurple:"#6D73A6",purple:"#7032FF",darkPurple:"#383f75",darkenPurple:"#202442"},media:{onlyMobile:"(max-width: 767px)",onlyTablet:"(min-width: 768px) and (max-width: 1023px)",tablet:"(min-width: 768px)",desktop:"(min-width: 1280px)"}},children:[Object(K.jsx)(V,{}),Object(K.jsx)(De,{})]})})})}),document.getElementById("root")),Fe()}},[[158,1,2]]]);
//# sourceMappingURL=main.4c6e685d.chunk.js.map